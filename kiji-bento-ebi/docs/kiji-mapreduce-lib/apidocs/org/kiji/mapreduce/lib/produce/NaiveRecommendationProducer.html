<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_33) on Mon May 05 18:56:31 PDT 2014 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
NaiveRecommendationProducer (The KijiMR Library 1.1.6 API)
</TITLE>

<META NAME="date" CONTENT="2014-05-05">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="NaiveRecommendationProducer (The KijiMR Library 1.1.6 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/NaiveRecommendationProducer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/kiji/mapreduce/lib/produce/IdentityProducer.html" title="class in org.kiji.mapreduce.lib.produce"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/kiji/mapreduce/lib/produce/PathNaiveRecommendationProducer.html" title="class in org.kiji.mapreduce.lib.produce"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/kiji/mapreduce/lib/produce/NaiveRecommendationProducer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="NaiveRecommendationProducer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.kiji.mapreduce.lib.produce</FONT>
<BR>
Class NaiveRecommendationProducer</H2>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by ">org.kiji.mapreduce.produce.KijiProducer
      <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>org.kiji.mapreduce.lib.produce.NaiveRecommendationProducer</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>org.apache.hadoop.conf.Configurable, org.kiji.mapreduce.kvstore.KeyValueStoreClient</DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../../org/kiji/mapreduce/lib/produce/PathNaiveRecommendationProducer.html" title="class in org.kiji.mapreduce.lib.produce">PathNaiveRecommendationProducer</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>NaiveRecommendationProducer</B><DT>extends org.kiji.mapreduce.produce.KijiProducer</DL>
</PRE>

<P>
A producer that generates recommendations based on a precomputed model of independent
 association rules.

 <p>This producer attempts to generate recommendations based on the following
 assumptions:</p>
 <ul>
   <li>
     Each entity/row <i>E</i> in the table "likes" a set of entities, each with an
     associated magnitude (weight).  Call this weighted vector of liked entities
     <i>affinities(E)</i>.
   </li>
   <li>
     Each affinity <i>A</i> in <i>affinities(E)</i> has a weighted set of related
     (associated) items <i>related(A)</i>.  Furthermore, <i>related(A)</i> does not
     depend on any other elements of <i>affinities(E)</i> (this naive independence
     assumption is where this recommender get its name).
   </li>
   <li>
     The recommendations for <i>E</i> can be expressed as a function of the set of
     <i>related(A)</i> for each <i>A</i> in <i>affinities(E)</i>.
   </li>
 </ul>

 <p>This abstract base class assumes that <i>related(x)</i> can be looked up in a
 precomputed association model accessible via the "associations" required
 <code>KeyValueStore</code>.

 <p>Subclasses must implement:</p>
 <ul>
   <li>
     <code>getDataRequest()</code> to specify which cells of the row are required to
     determine <i>affinities(x)</i>.
   </li>
   <li>
     <code>getOutputColumn()</code> to specify where recommendations will be written.
   </li>
   <li>
     <code>getAffinities()</code> to compute <i>affinities(x)</i> for an entity <i>x</i>.
   </li>
   <li>
     <code>recommend()</code> to combine the set of weighted related items into a single
     weighted vector of recommendations.
   </li>
 </ul>

 <p>If the associations <code>KeyValueStore</code> is a <code>KijiTableKeyValueStore</code>,
 subclasses must override:</p>
 <ul>
   <li>
     <code>getRelatedItems()</code> to appropriately acquire <i>related(A)</i> from the
     associations <code>KeyValueStore</code> for each affinity A.
   </li>
 </ul>
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/kiji/mapreduce/lib/produce/NaiveRecommendationProducer.html#ASSOCIATIONS_STORE">ASSOCIATIONS_STORE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the key/value store where associations (related items) can be looked up.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/kiji/mapreduce/lib/produce/NaiveRecommendationProducer.html#NaiveRecommendationProducer()">NaiveRecommendationProducer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;<A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/kiji/mapreduce/lib/produce/NaiveRecommendationProducer.html#getAffinities(org.kiji.schema.KijiRowData, org.kiji.mapreduce.produce.ProducerContext)">getAffinities</A></B>(org.kiji.schema.KijiRowData&nbsp;input,
              org.kiji.mapreduce.produce.ProducerContext&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a graph node that has outgoing weighted edges to a set of "liked" items.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/kiji/mapreduce/lib/produce/NaiveRecommendationProducer.html#getRelatedItems(java.lang.String, org.kiji.mapreduce.produce.ProducerContext)">getRelatedItems</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;key,
                org.kiji.mapreduce.produce.ProducerContext&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Looks up a key's related items in the association model via the <code>KeyValueStore</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/kiji/mapreduce/lib/produce/NaiveRecommendationProducer.html#getRelationships(org.kiji.mapreduce.lib.avro.Node, org.kiji.mapreduce.produce.ProducerContext)">getRelationships</A></B>(<A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A>&nbsp;affinities,
                 org.kiji.mapreduce.produce.ProducerContext&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finds the set of items that are related to a set of affinities.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.kiji.mapreduce.kvstore.KeyValueStore&lt;?,?&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/kiji/mapreduce/lib/produce/NaiveRecommendationProducer.html#getRequiredStores()">getRequiredStores</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/kiji/mapreduce/lib/produce/NaiveRecommendationProducer.html#produce(org.kiji.schema.KijiRowData, org.kiji.mapreduce.produce.ProducerContext)">produce</A></B>(org.kiji.schema.KijiRowData&nbsp;input,
        org.kiji.mapreduce.produce.ProducerContext&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;<A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/kiji/mapreduce/lib/produce/NaiveRecommendationProducer.html#recommend(org.kiji.mapreduce.lib.avro.Node, org.kiji.mapreduce.produce.ProducerContext)">recommend</A></B>(<A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A>&nbsp;relationships,
          org.kiji.mapreduce.produce.ProducerContext&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the information about the entity's relationships (affinities and their related
 items) to produce a single weighted vector of recommendations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/kiji/mapreduce/lib/produce/NaiveRecommendationProducer.html#write(org.kiji.mapreduce.lib.avro.Node, org.kiji.mapreduce.produce.ProducerContext)">write</A></B>(<A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A>&nbsp;recommendations,
      org.kiji.mapreduce.produce.ProducerContext&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the generated recommendations to generate producer output.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.kiji.mapreduce.produce.KijiProducer"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.kiji.mapreduce.produce.KijiProducer</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>cleanup, getConf, getDataRequest, getOutputColumn, setConf, setup</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ASSOCIATIONS_STORE"><!-- --></A><H3>
ASSOCIATIONS_STORE</H3>
<PRE>
public static final <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>ASSOCIATIONS_STORE</B></PRE>
<DL>
<DD>The name of the key/value store where associations (related items) can be looked up.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#org.kiji.mapreduce.lib.produce.NaiveRecommendationProducer.ASSOCIATIONS_STORE">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="NaiveRecommendationProducer()"><!-- --></A><H3>
NaiveRecommendationProducer</H3>
<PRE>
public <B>NaiveRecommendationProducer</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getRequiredStores()"><!-- --></A><H3>
getRequiredStores</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.kiji.mapreduce.kvstore.KeyValueStore&lt;?,?&gt;&gt; <B>getRequiredStores</B>()</PRE>
<DL>
<DD>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getRequiredStores</CODE> in interface <CODE>org.kiji.mapreduce.kvstore.KeyValueStoreClient</CODE><DT><B>Overrides:</B><DD><CODE>getRequiredStores</CODE> in class <CODE>org.kiji.mapreduce.produce.KijiProducer</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="produce(org.kiji.schema.KijiRowData, org.kiji.mapreduce.produce.ProducerContext)"><!-- --></A><H3>
produce</H3>
<PRE>
public void <B>produce</B>(org.kiji.schema.KijiRowData&nbsp;input,
                    org.kiji.mapreduce.produce.ProducerContext&nbsp;context)
             throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>produce</CODE> in class <CODE>org.kiji.mapreduce.produce.KijiProducer</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getAffinities(org.kiji.schema.KijiRowData, org.kiji.mapreduce.produce.ProducerContext)"><!-- --></A><H3>
getAffinities</H3>
<PRE>
protected abstract <A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A> <B>getAffinities</B>(org.kiji.schema.KijiRowData&nbsp;input,
                                      org.kiji.mapreduce.produce.ProducerContext&nbsp;context)
                               throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Returns a graph node that has outgoing weighted edges to a set of "liked" items.

 <p>An edge pointing to item <i>I</i> with weight <i>W</i> means that the current
 entity has an affinity for <i>I</i> with magnitude <i>W</i>.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>input</CODE> - The input from the row, determined by getDataRequest().<DD><CODE>context</CODE> - The producer context.
<DT><B>Returns:</B><DD>A central node linked to each of this entity's affinities. The weight of each
     edge linking an affinity to this central node represents the weight of the
     affinity. The central may not be null, but may be empty (no edges).
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - If there is an error.</DL>
</DD>
</DL>
<HR>

<A NAME="getRelationships(org.kiji.mapreduce.lib.avro.Node, org.kiji.mapreduce.produce.ProducerContext)"><!-- --></A><H3>
getRelationships</H3>
<PRE>
protected <A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A> <B>getRelationships</B>(<A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A>&nbsp;affinities,
                                org.kiji.mapreduce.produce.ProducerContext&nbsp;context)
                         throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Finds the set of items that are related to a set of affinities.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>affinities</CODE> - A node where each edge represents a weighted affinity.<DD><CODE>context</CODE> - The producer context.
<DT><B>Returns:</B><DD>The <code>affinities</code> node, where each affinity has an
     outgoing edge for each item it is related to, weighted by its "relatedness."
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - If there is an error.</DL>
</DD>
</DL>
<HR>

<A NAME="getRelatedItems(java.lang.String, org.kiji.mapreduce.produce.ProducerContext)"><!-- --></A><H3>
getRelatedItems</H3>
<PRE>
protected <A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A> <B>getRelatedItems</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;key,
                               org.kiji.mapreduce.produce.ProducerContext&nbsp;context)
                        throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Looks up a key's related items in the association model via the <code>KeyValueStore</code>.
 If the key-value pairs in the associations <code>KeyValueStore</code> are not of
 String key type or not of Node value type, then this method must be overridden.
 For example, if the chosen associations <code>KeyValueStore</code> is a
 <code>KijiTableKeyValueStore</code>, this method must be overridden to appropriately
 convert the String key parameter to the equivalent entityId.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - The key to look up associations (related items) for.<DD><CODE>context</CODE> - The producer context.
<DT><B>Returns:</B><DD>The node of associations for the specified key in the relationship graph.
     Its outgoing edges represent its direct relationships.  This will not return null;
     if there are no related items, it will return a node with no outgoing edges.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - If there is an error.</DL>
</DD>
</DL>
<HR>

<A NAME="recommend(org.kiji.mapreduce.lib.avro.Node, org.kiji.mapreduce.produce.ProducerContext)"><!-- --></A><H3>
recommend</H3>
<PRE>
protected abstract <A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A> <B>recommend</B>(<A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A>&nbsp;relationships,
                                  org.kiji.mapreduce.produce.ProducerContext&nbsp;context)
                           throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Uses the information about the entity's relationships (affinities and their related
 items) to produce a single weighted vector of recommendations.

 <p>The <code>relationships</code> parameter is a subgraph representing the current
 entity and its relationship to other entities via affinity and relatedness.</p>

 <p>The relationships graph's first level of outgoing edges represent the "likes"
 relationship; if there is an edge from A to B, we say that A "likes" B.  The
 second level of edges represent the "relates to" relationship; if there is an edge
 from A to B, we say that A "relates to" B.  Here is an example:</p>

 <pre>
       "likes"     "relates to"

 (self) ------&gt; (a) ---------&gt; (b)
        \           \--------&gt; (c)
         \----&gt; (d) ---------&gt; (e)
 </pre>

 <p>In this example, (self) likes (a) and (d); (a) relates to (b) and (c); (d) relates
 to (e).</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>relationships</CODE> - A node representing the current entity.  It has an outgoing edge
     for each affinity, and a transitive outgoing edge for each item related to that
     affinity.<DD><CODE>context</CODE> - The producer context.
<DT><B>Returns:</B><DD>A node with an outgoing edge for each recommendation, where the edge weight
     is the confidence in the recommendation. May be null for no recommendations.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - If there is an error.</DL>
</DD>
</DL>
<HR>

<A NAME="write(org.kiji.mapreduce.lib.avro.Node, org.kiji.mapreduce.produce.ProducerContext)"><!-- --></A><H3>
write</H3>
<PRE>
public void <B>write</B>(<A HREF="../../../../../org/kiji/mapreduce/lib/avro/Node.html" title="class in org.kiji.mapreduce.lib.avro">Node</A>&nbsp;recommendations,
                  org.kiji.mapreduce.produce.ProducerContext&nbsp;context)
           throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Uses the generated recommendations to generate producer output.

 <p>The default implementation simply writes the entire node to the output column at
 the current timestamp.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>recommendations</CODE> - A node with an outgoing edge for each recommendation. The
     edge weight is the confidence in the recommendation.<DD><CODE>context</CODE> - The producer context.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - If there is an error.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/NaiveRecommendationProducer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/kiji/mapreduce/lib/produce/IdentityProducer.html" title="class in org.kiji.mapreduce.lib.produce"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/kiji/mapreduce/lib/produce/PathNaiveRecommendationProducer.html" title="class in org.kiji.mapreduce.lib.produce"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/kiji/mapreduce/lib/produce/NaiveRecommendationProducer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="NaiveRecommendationProducer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2012-2014 <a href="http://www.wibidata.com">WibiData, Inc.</a>. All Rights Reserved.
</BODY>
</HTML>
